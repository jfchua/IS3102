<!DOCTYPE html >
<html lang="en" ng-app="app">
<head>
<meta charset="utf-8">

<title>IFMS</title>

<!-- Bootstrap CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet">

<!-- bootstrap theme -->
<link href="css/bootstrap-theme.css" rel="stylesheet">
<!--external css-->
<!-- font icon -->
<!-- <link href="css/elegant-icons-style.css" rel="stylesheet" />-->
<link href="css/font-awesome.min.css" rel="stylesheet" />
<!-- Custom styles -->
<link href="css/style.css" rel="stylesheet">
<link href="css/style-responsive.css" rel="stylesheet" />
 <link rel="stylesheet" href="../css/floorplan.css" type="text/css" />
<script src="angular/app.js"></script>
<script src="angular/controller.js"></script>
<script src="angular/user_service.js"></script>
<script src="angular/user_controller.js"></script>
<script src="angular/floorplan.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.1.3/ui-bootstrap-tpls.js"></script>
<!-- HTML5 shim and Respond.js IE8 support of HTML5 -->
<!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
      <script src="js/lte-ie7.js"></script>
    <![endif]-->
</head>

<body >
<div>
	<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container"> <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span
                    class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span> </a><a class="brand" href="#/workspace">DASHBOARD</a>
        <ul class="nav pull-right">
          <li class="dropdown"><a href="" class="dropdown-toggle" data-toggle="dropdown"><i
                            class="icon-cog"></i> Actions <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="javascript:;">Settings</a></li>
           
            </ul>
          </li>
          <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i
                            class="icon-user"></i> LOGOUT <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="javascript:;">Logout</a></li>
            </ul>
          </li>
        </ul>
        <form class="navbar-search pull-right">
          <input type="text" class="search-query" placeholder="Search">
        </form>
      </div>
      <!--/.nav-collapse --> 
    </div>
    <!-- /container --> 
  </div>
  <!-- /navbar-inner --> 
</div>
<!-- /navbar -->
<div class="subnavbar">
  <div class="subnavbar-inner">
    <div class="container">
      <ul class="mainnav">
        <li class="active"><a href="#/workspace"><i class="icon-dashboard"></i><span>Dashboard</span> </a> </li>

        

      </ul>
    </div>
    <!-- /container --> 
  </div>
  <!-- /subnavbar-inner --> 
</div>
	<!-- MAIN BODY -->
		<div ng-controller="floorPlanController as floorPlanCtrl">    
      <div class="container">
        <div class="content" >

        <h1>Floor Plan</h1>
        
       
       
     <a href="/#/viewFloorPlan" ng-click="viewFloorPlan()"><button>Back to View FloorPlan</button></a>
  
    <div id="glassbox" ng-style="{height: {{levelWidth}} + 'px', width: {{levelLength}} + 'px'}">
        <div ng-repeat="unit in units track by $index" class="ui-widget-content" 
            id="{{unit.square.id}}"  draggable resizable  on-resize="resize(unit,$evt, $ui)" ng-mouseover=$parent.showDetails(unit) 
              ng-style="{height: {{unit.square.height}} + 'px', width: {{unit.square.width}} + 'px', 'left':{{unit.square.left}}+'px','top':{{unit.square.top}}+'px', 
              'background-color':'{{unit.square.color}}' ,'maxHeight':{{levelWidth}}+'px','maxWidth':{{levelLength}}+'px'}" ><p>{{unit.unitNumber}}<img  class="svgtest" src="{{unit.square.type}}" alt="{{unit.square.type}}"></p> </div>
        </div>
       <div><p> {{showDetail}}</p></div>
  
  <button ng-click="addUnit()">Add a Unit</button>
  <select ng-model="specialType">
    <option value="./svg/entry.svg">Entry
    <option value="./svg/escalator.svg">Escalator
    <option value="./svg/exit.svg">Exit
    <option value="./svg/lift.svg">Lift
    <option value="./svg/servicelift.svg">Service Lift
    <option value="./svg/staircase.svg">Staircase
    <option value="./svg/toilet.svg">Toilet
</select>
   <button ng-click="addSpecialUnit(specialType)">Add a Unit</button>

<button ng-click="saveUnits()">Save Units</button>
 
  <div><p >Please click on "Start" button before adding or editing units. Please drag before resizing.</p></div>
  
<table>
<th></th>
<th>id</th>
   <th>left</th>
    <th>top</th>
     <th>height</th>
      <th>width</th>
       <th>color</th>
        <th>type</th>
       <th>Unit Number</th>
     
        <th>Description</th>
         
  <tr ng-repeat="x in units track by $index" >
  <td><a class="btn" ng-click="remove(x)">Delete</a> </td>
    <td>{{ x.id }} </td>
     <td>{{x.square.left}}</td>
     <td>{{x.square.top}}</td>
     <td>{{x.square.height}}</td>
     <td>{{x.square.width}}</td>
        <td> {{x.square.color }} </td>
    <td>{{ x.square.type }} </td>
    <td><input type="text" name="unitNumber" ng-model="x.unitNumber" required> </td>
      <td> <input type="text" name="description" ng-model="x.description" > </td>
  </tr>
</table>
  <div id="respond"></div>
</div>
       
   </div>
   </div>
   
		
		<!--main content end-->
</body>
</html>