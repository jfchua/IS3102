<link rel="stylesheet" href="bower_components/angular-gridster/dist/angular-gridster.css" />

<link rel="stylesheet" href="../css/floorplanGrid.css" type="text/css" />

<div class="clearfix">
	<ol class="breadcrumb no-bg no-m-t">
		<li class="active"><i class="glyphicon glyphicon-dashboard"></i></li>
		<li><a ui-sref="dashboard.workspace">Workspace</a></li>
		<li><a ui-sref="dashboard.viewBuildingEx({param3: 0})">View
				Buildings</a></li>
	</ol>
</div>

<div class="row">

	<div class="col-md-3">

		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">
					Buildings
					<div class="panel-control pull-right">

						<a class="panelButton"><i class="fa fa-refresh"></i></a> <a
							class="panelButton"><i class="fa fa-minus"></i></a> <a
							class="panelButton"><i class="fa fa-remove"></i></a>

					</div>
				</h3>
			</div>
			<div class="panel-body">
				<div>
					<div ng-repeat="x in buildings | orderBy:'name'"
						ng-show="$index == currentPage-1">
						<img ng-show="x.picPath"  src="{{x.picPath}}"
							style='height: 100%; width: 100%; object-fit: contain'>
						</td>
					</div>
					<table class="table table-hover">
						<tbody>
							<tr ng-repeat="x in buildings | orderBy:'name'"
								ng-show="$index == currentPage-1">
								<th><i></i> Building Name</th>
								<td>{{ x.name }}</td>
							</tr>
							<tr ng-repeat="x in buildings | orderBy:'name'"
								ng-show="$index == currentPage-1">
								<th><i></i> Number of floors</th>
								<td>{{ x.numFloor }}</td>
							</tr>
							<tr ng-repeat="x in buildings | orderBy:'name'"
								ng-show="$index == currentPage-1">
								<th><i></i> Address</th>
								<td>{{ x.address }}<br>{{ x.city }} {{ x.postalCode }}
								</td>
							</tr>


						</tbody>

					</table>
					<div class="clearfix text-center">
						<pagination boundary-links="true" total-items="buildings.length"
							items-per-page="1" ng-model="currentPage"
							
							class="pagination-sm" previous-text="&lsaquo;"
							next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
					</div>

				</div>

			</div>
			<div class="panel-body">
				<div ng-repeat="x in buildings | orderBy:'name'"
					ng-show="$index == currentPage-1">
					<table class="table table-hover">
						<tbody>

							<tr ng-repeat="y in x.levels | orderBy:'levelNum'"
								ng-show="$index == currentPageLevel-1">
								<th><i></i> Level Number</th>
								<td>{{y.levelNum}}</td>
							</tr>
							<tr ng-repeat="y in x.levels | orderBy:'levelNum'"
								ng-show="$index == currentPageLevel-1">
								<th><i></i>Dimension:</th>
								<td>Length: {{ y.length }}m <br>Width: {{ y.width }}m
								</td>
							</tr>

							<tr ng-repeat="y in x.levels | orderBy:'levelNum'"
								ng-show="$index == currentPageLevel-1">

								<th><button type="button" ng-click="viewFloorPlan(y); "
										ui-sref="dashboard.viewBuildingEx.viewFloorPlanEx({param1: 0})"
										class="btn btn-primary btn-outline btn-rounded">View floor plan</button></th>
								<td></td>

							</tr>

						</tbody>




					</table>
					<div class="clearfix text-center">
						<pagination boundary-links="true" total-items="x.levels.length"
							items-per-page="1" ng-model="currentPageLevel"
							class="pagination-sm" ng-change="findLevel(currentPageLevel-1)"
							previous-text="&lsaquo;" next-text="&rsaquo;"
							first-text="&laquo;" last-text="&raquo;"></pagination>
					</div>
				</div>


			</div>
		</div>


	</div>

	<div class="col-md-9">
		<div ui-view></div>
	</div>

</div>

<div class="col-md-12"></div>